<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../status.css" type="text/css">
		<script>!function(a,b,c){function w(a){h.test(b[p])?c(function(){w(a)},50):a()}function t(a,b){s(a,function(a){return!b(a)})}var d=b.getElementsByTagName("script")[0],e={},f={},g={},h=/in/,i={},k="string",l=!1,m,n="push",o="DOMContentLoaded",p="readyState",q="addEventListener",r="onreadystatechange",s=Array.every||function(a,b){for(m=0,j=a.length;m<j;++m)if(!b(a[m]))return 0;return 1};!b[p]&&b[q]&&(b[q](o,function u(){b.removeEventListener(o,u,l),b[p]="complete"},l),b[p]="loading");var v=function(a,j,k){function w(){if(!--q){e[o]=1,m&&m();for(var a in g)s(a.split("|"),u)&&!t(g[a],u)&&(g[a]=[])}}function u(a){return a.call?a():e[a]}a=a[n]?a:[a];var l=j&&j.call,m=l?j:k,o=l?a.join(""):j,q=a.length;if(!o||!f[o]){c(function(){t(a,function(a){if(!i[a]){i[a]=1,o&&(f[o]=1);var c=b.createElement("script"),e=0;c.onload=c[r]=function(){c[p]&&!!h.test(c[p])||e||(c.onload=c[r]=null,e=1,w())},c.async=1,c.src=a,d.parentNode.insertBefore(c,d)}})},0);return v}};v.ready=function(a,b,c){a=a[n]?a:[a];var d=[];!t(a,function(a){e[a]||d[n](a)})&&s(a,function(a){return e[a]})?b():!function(a){g[a]=g[a]||[],g[a][n](b),c&&c(d)}(a.join("|"));return v},a.$script=v,a.$script.domReady=w}(this,document,setTimeout)</script>
		<script>
			var development = true;
			
			$script("../js/jquery.js", "jquery");
			$script("projects.js", "projects");
			$script.ready("jquery", function() {
				$script("../js/bigtext.js", "bigtext");
			});
			$script.ready(["jquery", "underscore", "bigtext", "projects"], function() {
				console.log("everything is set except code");
				$script("../js/specjs/status.js", "code");
			});
			if (development) {
				$script("../js/underscore.js", "underscore");
			} else {
				$script("../js/underscore.min.js", "underscore");
			}
			$script.ready("code", function() {
				specjs.status.populatePage();
				var url = "status.json";
				if (development) {
					url += "?" + new Date().getTime();
				}
				console.log("loading: ", url);
				$.getJSON(url, function(data) {
					console.log("statusdata received");
					window.statusdata = data;
					specjs.status.jumpToProject();
				});
			});
    </script>
    <title>Mozilla Developer Tools Project Status</title>
  </head>
  <body>
		<div class="topsummary">
	    <h1>Developer Tools Project Status</h1>
	    <div class="maindate">March 31</div>
		</div>
    
		<div id="primary">
			<div id="nav">
				<div class="summary">Summary</div>
				<div class="people">People</div>
			</div>
		
			<div id="content">
			</div>
		</div>

		<div class="attribution">Some icons by <a href="http://p.yusukekamiyamane.com/">Yusuke Kamiyamane</a>.</div>
		
		<script type="text/x-underscore-template" id="project_nav_template">
			<div data-id="<%= id %>"><%= name %></div>
		</script>
		
		<script type="text/x-underscore-template" id="project_template">
			<section class="project" id="<%= id %>">
				<div class="summary">
					<div class="main">
						<div class="top">
		        	<h2><a href="<%= url %>"><%= name %></a></h2>
							<div class="counts">
								<span class="bugs"><%= bugs.length %></span>
							</div>
							<div class="avatars"></div>
						</div>
						<div class="bottom">
		        	<div class="blurb"><%= blurb %></div>
						</div>
					</div>
					<div class="status"><%= status %></div>
				</div>
				
				<% if (people) { %>
					<section class="people">
						<h3>People</h3>
						<ul>
							<% people.forEach(function(person) { %>
								<li><%= person %></li>
							<% }); %>
						</ul>
					</section>
				<% }; %>

				<div class="tabs">
					<% if (typeof(updates) !== 'undefined' && updates.length > 0) { %>
						<section>
							<h3>Updates</h3>
							<ul>
								<% updates.forEach(function(update) { %>
									<li><%= update %></li>
								<% }); %>
							</ul>
						</section>
					<% }; %>
					<% if (typeof(bugs) != 'undefined' && bugs.length > 0) { %>
						<section>
							<h3>Bugs</h3>
							<ul>
								<% bugs.forEach(function(bug) { %>
									<li><span class="bug"><%= bug %></span></li>
								<% }); %>
							</ul>
						</section>
					<% }; %>
			</section>
		</script>
		
		<script type="text/x-underscore/template" id="person_template">
			<section class="person">
				<h3><%= name %></h3>
				<div><img alt="<%= id %>" title="%<= name %>" src="<%= avatar %>" class="avatar"></div>
			</section>
		</script>
  </body>
</html>